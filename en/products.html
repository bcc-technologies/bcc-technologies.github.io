<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script data-bcc-theme-init>
    (function() {
      try {
        var t = localStorage.getItem('bcc-theme');
        if (t === "dark" || t === "light") {
          document.documentElement.dataset.theme = t;
        }
      } catch (e) {}
    })();
  </script>

<title>Products - BCC Technologies</title>
  <link rel="icon" type="image/png" href="/static/Favi2.png" />
  <link rel="stylesheet" href="/css/pages/products.css" />
  <link rel="stylesheet" href="/css/00-tokens.css" />
  <link rel="stylesheet" href="/css/01-base.css" />
  <link rel="stylesheet" href="/css/02-layout.css" />
  <link rel="stylesheet" href="/css/03-components.css" />
  <script src="/js/layout.js" defer></script>
  <script src="/js/nav.js" defer></script>
  <script src="/js/prefs.js" defer></script>
  <link rel="alternate" hreflang="en" href="/en/products.html">
  <link rel="alternate" hreflang="es" href="/products.html">
  <link rel="alternate" hreflang="x-default" href="/products.html">
  <link rel="canonical" href="/en/products.html">
</head>
<body>
  <!-- Site navbar -->
            <header>
    <div class="header-container glass-panel-header">
      <button class="menu-toggle" type="button" aria-expanded="false" aria-controls="primary-nav" aria-label="Open menu">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M3 12h18M3 6h18M3 18h18"/>
        </svg>
      </button>

      <nav>
        <a href="/en/index.html" class="logo-link">
          <link href="https://fonts.googleapis.com/css2-family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
          <span class="logo-text"><strong>BCC</strong></span>
          <span class="logo-symbol"><strong>&there4;</strong></span>
        </a>

        <ul class="nav-links" id="primary-nav">
          <li><a href="/en/aboutUs.html">About</a></li>
          <li><a href="/en/products.html">Technology</a></li>
          <li><a href="/en/services.html">Services</a></li>
          <li><a href="/en/blog.html">Journal</a></li>
        </ul>

        <div class="nav-actions">
          <a class="btn btn-ghost" href="/en/login.html" style="border-radius: 10%;">Login</a>
          <div class="nav-tools">
            <a class="pref-btn lang-switch" href="/products.html" aria-label="Switch to Spanish">ES</a>
            <button class="pref-btn icon-btn" type="button" data-action="toggle-theme" aria-label="Toggle theme">
              <svg class="icon-moon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M21 14.5A8.5 8.5 0 1 1 9.5 3a.7.7 0 0 1 .7.9A7 7 0 0 0 20.1 13.8a.7.7 0 0 1 .9.7z"/>
              </svg>
              <svg class="icon-sun" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0-4h1.5v3H12V3zm0 15h1.5v3H12v-3zM3 11.5h3V13H3v-1.5zm15 0h3V13h-3v-1.5zM5.1 5.1l2.1 2.1-1.1 1.1-2.1-2.1 1.1-1.1zm11.8 11.8 2.1 2.1-1.1 1.1-2.1-2.1 1.1-1.1zm0-11.8 1.1 1.1-2.1 2.1-1.1-1.1 2.1-2.1zM5.1 18.9l1.1 1.1-2.1 2.1-1.1-1.1 2.1-2.1z"/>
              </svg>
            </button>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main class="with-header-offset">

  <!-- ================= HERO: Portfolio Navigator ================= -->
  <section class="hero" data-theme="software">
    <!-- Themed hero background -->
    <div class="hero-bg" aria-hidden="true">
      <div class="layer base"></div>
      <div class="layer grid"></div>
      <div class="layer rings"></div>   <!-- DLS -->
      <div class="layer arcs"></div>    <!-- EIS -->
      <div class="layer stripes"></div> <!-- Bundles -->
    </div>

    <div class="container hero-grid">
      <!-- Copy -->
      <div class="hero-copy">
        <p class="eyebrow">BCC Portfolio</p>
        <h1>Instrumentation and software for characterization and analysis</h1>
        <p class="lead">
          From impedance spectroscopy (EIS) and DLS to the MAPs image analysis suite.
          Find the right product in seconds.
        </p>

        <nav class="hero-tabs" role="tablist">
          <button role="tab" aria-selected="true"  aria-controls="pane-software"        id="tab-software"        data-pane="#pane-software">Software</button>
          <button role="tab" aria-selected="false" aria-controls="pane-instrumentacion" id="tab-instrumentacion" data-pane="#pane-instrumentacion">Instrumentation</button>
          <button role="tab" aria-selected="false" aria-controls="pane-bundles"         id="tab-bundles"         data-pane="#pane-bundles">Bundles</button>
        </nav>

        <div class="hero-cta">
          <a class="btn btn-dark" href="#catalogo">View products</a>
          <a class="btn" href="#comparador">Compare</a>
        </div>
      </div>

      <!-- Dynamic visual panel -->
      <div class="hero-visual">
        <!-- Software -->
        <div class="hero-pane active" id="pane-software" role="tabpanel" aria-labelledby="tab-software">
          <div class="hero-showcase">
            <a class="showcase-item" href="/en/product_maps_nano.html">
              <img src="/static/defect.png" alt="MAP-Nano" loading="lazy" />
              <strong>MAP-Nano</strong>
              <div class="showcase-meta">Roughness, porosity and morphology</div>
            </a>
            <a class="showcase-item" href="/en/product_maps.html#map-bio">
              <img src="/static/gyrosigma.png" alt="MAP-Bio" loading="lazy" />
              <strong>MAP-Bio</strong>
              <div class="showcase-meta">Counting and morphological analysis</div>
            </a>
            <a class="showcase-item" href="#">
              <img src="/static/eis_signal_sample.jpeg" alt="EIS Toolkit" loading="lazy" />
              <strong>EIS-Toolkit</strong>
              <div class="showcase-meta">Equivalent circuit fitting</div>
            </a>
          </div>
        </div>
        <!-- Instrumentation -->
        <div class="hero-pane" id="pane-instrumentacion" role="tabpanel" aria-labelledby="tab-instrumentacion">
          <div class="hero-showcase">
            <a class="showcase-item" href="#catalogo" data-scroll-to="eis">
              <img src="/static/generated_eis.png" alt="EIS" loading="lazy" />
              <strong>EIS</strong>
              <div class="showcase-meta">Options for liquids, metals, coatings and batteries</div>
            </a>
            <a class="showcase-item" href="#catalogo" data-scroll-to="dls">
              <img src="/static/DLS.svg" alt="DLS-Pro" loading="lazy" />
              <strong>DLS-Pro</strong>
              <div class="showcase-meta">Characterization of particles suspended in liquids</div>
            </a>
            <a class="showcase-item" href="#catalogo" data-scroll-to="dls">
              <img src="/static/dls_mini.png" alt="DLS-Mini" loading="lazy" />
              <strong>DLS-Mini</strong>
              <div class="showcase-meta">Compact for teaching and simple analyses</div>
            </a>
          </div>
        </div>
        <!-- Bundles -->
        <div class="hero-pane" id="pane-bundles" role="tabpanel" aria-labelledby="tab-bundles">
          <div class="hero-showcase">
            <a class="showcase-item" href="#catalogo" data-scroll-to="bundles">
              <img src="/static/cultivo_celular.png" alt="DLS-Pro + MAP-Bio" loading="lazy" />
              <strong>EIS + MAP-Bio</strong>
              <div class="showcase-meta">Analysis and monitoring of cultures</div>
            </a>
            <a class="showcase-item" href="#catalogo" data-scroll-to="bundles">
              <img src="/static/diagrama_de_bode.gif" alt="EIS-2000 + EIS-Toolkit" loading="lazy" />
              <strong>EIS + EIS-Toolkit</strong>
              <div class="showcase-meta">Measurement + reproducible fitting</div>
            </a>
            <a class="showcase-item" href="#catalogo" data-scroll-to="bundles">
              <img src="/static/sem_image.webp" alt="Microscopy + MAP-Nano" loading="lazy" />
              <strong>Microscopy + MAP-Nano</strong>
              <div class="showcase-meta">Image -> metric -> report</div>
            </a>

          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= Filtro sticky ================= -->
  <div class="filter-bar" id="catalogo">
    <div class="container">
      <form id="filtersForm" class="filters" role="search">
        <div class="filters-row">
          <!-- Family: single selection (segmented) -->
          <div class="group" role="radiogroup">
            <span class="label">Family:</span>
            <button type="button" class="seg is-active" data-group="family" data-value="all" aria-pressed="true">All</button>
            <button type="button" class="seg" data-group="family" data-value="software" aria-pressed="false">Software</button>
            <button type="button" class="seg" data-group="family" data-value="instrumentacion" aria-pressed="false">Instrumentation</button>
            <button type="button" class="seg" data-group="family" data-value="bundles" aria-pressed="false">Bundles</button>
          </div>

          <!-- Method: multi-select (pills) -->
          <div class="group">
            <span class="label">Method:</span>
            <button type="button" class="pill" data-group="method" data-value="EIS" aria-pressed="false">EIS</button>
            <button type="button" class="pill" data-group="method" data-value="DLS" aria-pressed="false">DLS</button>
            <button type="button" class="pill" data-group="method" data-value="Imaging" aria-pressed="false">Imaging</button>
          </div>

          <!-- Use: multi-select (pills) -->
          <div class="group">
            <span class="label">Use:</span>
            <button type="button" class="pill" data-group="use" data-value="ID" aria-pressed="false">R&D</button>
            <button type="button" class="pill" data-group="use" data-value="QA" aria-pressed="false">QA/QC</button>
            <button type="button" class="pill" data-group="use" data-value="Teaching" aria-pressed="false">Teaching</button>
          </div>

          <!-- Search -->
          <div class="group search">
            <label for="filterSearch" class="visually-hidden">Search</label>
            <input id="filterSearch" type="search" placeholder="Search by name, method, or tag..." inputmode="search" />
          </div>

          <!-- Acciones -->
          <div class="group actions">
            <button type="button" id="clearFilters" class="btn btn-ghost" hidden>Clear</button>
          </div>
        </div>

        <!-- Chips activos + meta resultados -->
        <div class="filters-meta">
          <div class="active-chips" id="activeChips" aria-live="polite"></div>
          <div class="result-meta"><span id="resultCount"></span></div>
        </div>
      </form>
    </div>
  </div>

  <!-- ================= Grid de productos ================= -->
  <section class="products section">
    <div class="container">
      <h2>Catalog</h2>
      <div class="products-grid" id="productsGrid">
        <!-- Instrumentation -> EIS -->
        <!-- <article class="product-card reveal" data-family="instrumentacion" data-method="EIS" data-use="ID,QA" id="eis">
          <img src="/static/product_eis.jpg" alt="EIS-2000" loading="lazy" />
          <h3>EIS-2000</h3>
          <p>10 uHz-1 MHz - 10 uV-5 V - Rack</p>
          <div class="product-tags"><span class="tag">EIS</span><span class="tag">Instrument</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article> -->

        <!-- <article class="product-card reveal" data-family="instrumentacion" data-method="EIS" data-use="Teaching,ID">
          <img src="/static/product_eis2.jpg" alt="EIS-1000" loading="lazy" />
          <h3>EIS-1000</h3>
          <p>1 mHz-500 kHz - Benchtop</p>
          <div class="product-tags"><span class="tag">EIS</span><span class="tag">Instrument</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article> -->


        <article class="product-card reveal" data-family="instrumentacion" data-method="EIS" data-use="ID,QA" id="eis">
          <img src="/static/render_as.jpg" alt="AquaSpecter" loading="lazy" />
          <h3>AquaSpecter</h3>
          <p>Pocket EIS for simple, frequent analysis</p>
          <div class="product-tags"><span class="tag">EIS</span><span class="tag">Instrument</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article>
        <article class="product-card reveal" data-family="instrumentacion" data-method="EIS" data-use="ID,QA" id="eis">
          <img src="/static/render_ast.jpg" alt="Inline AquaSpecter" loading="lazy" />
          <h3>Inline AquaSpecter</h3>
          <p>Embedded EIS for continuous liquid-sample analysis</p>
          <div class="product-tags"><span class="tag">EIS</span><span class="tag">Instrument</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article>

        <!-- Instrumentation -> DLS -->
        <!-- <article class="product-card reveal" data-family="instrumentacion" data-method="DLS" data-use="ID,QA" id="dls">
          <img src="/static/product_dls.jpg" alt="DLS-Pro" loading="lazy" />
          <h3>DLS-Pro</h3>
          <p>1-5,000 nm - 15-90 C - PSD</p>
          <div class="product-tags"><span class="tag">DLS</span><span class="tag">Instrument</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article> -->
        <article class="product-card reveal" data-family="instrumentacion" data-method="DLS" data-use="Teaching">
          <img src="/static/render_dls_mini.jpg" alt="DLS-Mini" loading="lazy" />
          <h3>DLS-Mini</h3>
          <p>Compact for small samples - basic PSD</p>
          <div class="product-tags"><span class="tag">DLS</span><span class="tag">Instrument</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article>

        <!-- Software -> MAP Suite -->
        <article class="product-card reveal" data-family="software" data-method="Imaging" data-use="ID,QA">
          <img src="/static/mapnano.png" alt="MAP-Nano" loading="lazy" />
          <h3>MAP-Nano</h3>
          <p>Roughness, porosity and morphology - Web/Desktop</p>
          <div class="product-tags"><span class="tag">Imaging</span><span class="tag">Software</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="/en/product_maps_nano.html">Learn more</a>
            <a class="btn btn-ghost" href="./contactUs-demo=1">Demo</a>
          </div>
        </article>
        <article class="product-card reveal" data-family="software" data-method="Imaging" data-use="ID">
          <img src="/static/gyrosigma.png" alt="MAP-Bio" loading="lazy" />
          <h3>MAP-Bio</h3>
          <p>Counting, classification and morphology - Web/Desktop</p>
          <div class="product-tags"><span class="tag">Imaging</span><span class="tag">Software</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="/en/product_maps.html">Learn more</a>
            <a class="btn btn-ghost" href="./contactUs-demo=1">Demo</a>
          </div>
        </article>
        <!-- <article class="product-card reveal" data-family="software" data-method="EIS" data-use="ID,QA">
          <img src="/static/product_placeholder.png" alt="EIS-Toolkit" loading="lazy" />
          <h3>EIS-Toolkit</h3>
          <p>Equivalent circuit fitting - Desktop</p>
          <div class="product-tags"><span class="tag">EIS</span><span class="tag">Software</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="#">Learn more</a>
            <a class="btn btn-ghost" href="./contactUs-demo=1">Demo</a>
          </div>
        </article> -->

        <!-- Bundles -->
        <article class="product-card reveal" data-family="bundles" data-method="EIS,Imaging" data-use="QA,ID" id="bundles">
          <img src="/static/cultivo_celular_dibujo.png" alt="EIS + MAP-Bio" loading="lazy" />
          <h3>EIS + MAP-Bio</h3>
          <p>Impedance monitoring, counting and characterization of cell cultures</p>
          <div class="product-tags"><span class="tag">Bundle</span><span class="tag">EIS + Imaging</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article>
        <article class="product-card reveal" data-family="bundles" data-method="EIS" data-use="ID,QA">
          <img src="/static/diagrama_de_bode.gif" alt="EIS + EIS-Toolkit" loading="lazy" />
          <h3>EIS + EIS-Toolkit</h3>
          <p>Measurement + reproducible fitting</p>
          <div class="product-tags"><span class="tag">Bundle</span><span class="tag">EIS</span></div>
          <div class="card-cta">
            <a class="btn btn-dark" href="./contactUs-demo=1">Get quote</a>
            <a class="btn btn-ghost" href="#">Spec sheet</a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- ================= Simple comparison ================= -->
  <section class="compare section" id="comparador">
    <div class="container">
      <h2>Quick comparison</h2>
      <div class="lead">Key specs by family (example values; adjust to your real models).</div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Product</th>
              <th>Method</th>
              <th>Key range</th>
              <th>Outputs</th>
              <th>Form factor</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>EIS-2000</td>
              <td>EIS</td>
              <td>10 uHz-1 MHz; 10 uV-5 V</td>
              <td>Bode, Nyquist, parameters</td>
              <td>Rack</td>
            </tr>
            <tr>
              <td>DLS-Pro</td>
              <td>DLS</td>
              <td>1-5,000 nm; 15-90 C</td>
              <td>PSD, zeta</td>
              <td>Benchtop</td>
            </tr>
            <tr>
              <td>MAP-Nano</td>
              <td>Imaging</td>
              <td>Roughness, porosity, morphology</td>
              <td>CSV, PDF, API</td>
              <td>Web/Desktop</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Footer -->
      </main>

            <footer>
    <div class="container footer-inner">
      <div class="footer-brand">
        <strong>BCC Technologies</strong>
        <span>Santo Domingo, DR</span>
        <span class="footer-copy">&copy; 2024 BCC Tech. Est. 2020.</span>
      </div>
      <div class="footer-links">
        <a class="footer-contact" href="/en/contactUs.html">Contact</a>
        <a class="pref-btn lang-switch" href="/products.html" aria-label="Switch to Spanish">ES</a>
        <button class="pref-btn icon-btn" type="button" data-action="toggle-theme" aria-label="Toggle theme">
          <svg class="icon-moon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M21 14.5A8.5 8.5 0 1 1 9.5 3a.7.7 0 0 1 .7.9A7 7 0 0 0 20.1 13.8a.7.7 0 0 1 .9.7z"/>
          </svg>
          <svg class="icon-sun" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0-4h1.5v3H12V3zm0 15h1.5v3H12v-3zM3 11.5h3V13H3v-1.5zm15 0h3V13h-3v-1.5zM5.1 5.1l2.1 2.1-1.1 1.1-2.1-2.1 1.1-1.1zm11.8 11.8 2.1 2.1-1.1 1.1-2.1-2.1 1.1-1.1zm0-11.8 1.1 1.1-2.1 2.1-1.1-1.1 2.1-2.1zM5.1 18.9l1.1 1.1-2.1 2.1-1.1-1.1 2.1-2.1z"/>
          </svg>
        </button>
      </div>
      <div class="footer-social">
        <a href="https://www.linkedin.com/company/bcc-tech" class="social-link" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8.5h4V24h-4zM8.5 8.5h3.8v2.1h.1c.5-.9 1.8-2.1 3.8-2.1 4.1 0 4.9 2.7 4.9 6.2V24h-4v-7.4c0-1.8 0-4.1-2.5-4.1s-2.9 2-2.9 4v7.5h-4z"/>
          </svg>
        </a>
        <a href="https://www.instagram.com/bcc.tech/" class="social-link" aria-label="Instagram">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M7 3h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4zm0 2a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H7zm5 3.2a3.8 3.8 0 1 1 0 7.6 3.8 3.8 0 0 1 0-7.6zm0 1.8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm5.2-2.1a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
          </svg>
        </a>
      </div>
    </div>
  </footer>

  <!-- ================= Scripts ================= -->
  <script>
    // Year
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Adjust --nav-h to the real navbar height
    (function(){
      const nav=document.querySelector('.navbar');
      if(!nav) return;
      const setH=()=>document.documentElement.style.setProperty('--nav-h', nav.offsetHeight+'px');
      setH(); addEventListener('resize', setH);
    })();

    // Hero tabs (theme + panes)
    (function(){
      const tabs  = document.querySelectorAll('.hero-tabs [role="tab"]');
      const panes = document.querySelectorAll('.hero-pane');
      const hero  = document.querySelector('.hero');

      function setThemeFromTab(id){
        const theme = id==='tab-instrumentacion' ? 'instrumentacion'
                    : id==='tab-bundles'         ? 'bundles'
                    : 'software';
        hero.setAttribute('data-theme', theme);
      }
      // Initial theme
      const activeTab = document.querySelector('.hero-tabs [aria-selected="true"]');
      setThemeFromTab(activeTab ? activeTab.id : 'tab-software');

      tabs.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          tabs.forEach(b=>b.setAttribute('aria-selected','false'));
          btn.setAttribute('aria-selected','true');
          panes.forEach(p=>p.classList.remove('active'));
          const pane = document.querySelector(btn.dataset.pane);
          if(pane) pane.classList.add('active');
          setThemeFromTab(btn.id);
        });
      });
    })();

    // Scroll to sections from hero items
    document.querySelectorAll('[data-scroll-to]').forEach(el=>{
      el.addEventListener('click',(e)=>{
        const id = el.getAttribute('data-scroll-to');
        const target = document.getElementById(id);
        if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth'}); }
      });
    });

    // Reveal on scroll
    (function(){
      const els = document.querySelectorAll('.reveal');
      if(!('IntersectionObserver' in window)){ els.forEach(el=>el.classList.add('is-visible')); return; }
      const io = new IntersectionObserver((es)=>{
        es.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('is-visible'); io.unobserve(e.target); }});
      }, {threshold:.15});
      els.forEach(el=>io.observe(el));
    })();

    /* ===== Filters v2: state, URL sync, search, chips ===== */
    (function(){
      const grid = document.getElementById('productsGrid');
      if(!grid) return;

      // Helpers
      const $ = (s, r=document) => r.querySelector(s);
      const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));
      const normalize = (s='') => s.toString().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');

      // State
      const state = { family:'all', method:[], use:[], search:'' };

      // Elements
      const cards = $$('.product-card', grid);
      const segs  = $$('.seg');
      const pills = $$('.pill');
      const input = $('#filterSearch');
      const clear = $('#clearFilters');
      const chipsWrap = $('#activeChips');
      const resultCount = $('#resultCount');

      // Load from URL
      const params = new URLSearchParams(location.search);
      if (params.has('family')) state.family = params.get('family') || 'all';
      if (params.has('method')) state.method = params.get('method').split(',').filter(Boolean);
      if (params.has('use'))    state.use    = params.get('use').split(',').filter(Boolean);
      if (params.has('q'))      state.search = params.get('q') || '';

      // Initial UI
      function syncUIFromState(){
        segs.forEach(b=>{
          const active = b.dataset.value === state.family || (state.family==='all' && b.dataset.value==='all');
          b.classList.toggle('is-active', active);
          b.setAttribute('aria-pressed', String(active));
        });
        pills.forEach(b=>{
          const selected = (state[b.dataset.group] || []).includes(b.dataset.value);
          b.setAttribute('aria-pressed', String(!!selected));
        });
        if (input) input.value = state.search;
        clear.hidden = (state.family==='all' && !state.method.length && !state.use.length && !state.search);
      }

      // URL sync
      function syncURL(){
        const q = new URLSearchParams();
        if (state.family && state.family!=='all') q.set('family', state.family);
        if (state.method.length) q.set('method', state.method.join(','));
        if (state.use.length)    q.set('use', state.use.join(','));
        if (state.search)        q.set('q', state.search);
        const qs = q.toString();
        history.replaceState(null, '', qs ? `?${qs}` : location.pathname);
      }

      // Chips
      function renderChips(){
        chipsWrap.innerHTML = '';
        const addChip = (label, group, value) => {
          const chip = document.createElement('span');
          chip.className = 'chip';
          chip.innerHTML = `${label} <button>&times;</button>`;
          chip.querySelector('button').addEventListener('click', ()=>{
            if (group==='family') state.family = 'all';
            else if (Array.isArray(state[group])) state[group] = state[group].filter(v=>v!==value);
            apply();
          });
          chipsWrap.appendChild(chip);
        };
        if (state.family!=='all') addChip(`Family: ${state.family}`, 'family', state.family);
        state.method.forEach(v => addChip(`Method: ${v}`, 'method', v));
        state.use.forEach(v => addChip(`Use: ${v}`, 'use', v));
        if (state.search) addChip(`Search: "${state.search}"`, 'search', '');
      }

      // Filter
      function apply(){
        const q = normalize(state.search);
        let visible = 0;

        cards.forEach(card=>{
          const f = card.dataset.family;
          const m = (card.dataset.method||'').split(',').map(s=>s.trim());
          const u = (card.dataset.use||'').split(',').map(s=>s.trim());
          const text = normalize(card.textContent);
          let ok = true;
          if (state.family!=='all') ok = ok && f === state.family;
          if (state.method.length)  ok = ok && state.method.some(x => m.includes(x));
          if (state.use.length)     ok = ok && state.use.some(x => u.includes(x));
          if (q)                    ok = ok && text.includes(q);
          card.style.display = ok ? '' : 'none';
          if (ok) visible++;
        });

        resultCount.textContent = `${visible} product${visible===1?'':'s'}`;
        clear.hidden = (state.family==='all' && !state.method.length && !state.use.length && !state.search);
        renderChips();
        syncURL();
      }

      // Events
      segs.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          state.family = btn.dataset.value;
          segs.forEach(b=>{ b.classList.toggle('is-active', b===btn); b.setAttribute('aria-pressed', String(b===btn)); });
          apply();
        });
      });
      pills.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const g = btn.dataset.group; const v = btn.dataset.value;
          const arr = state[g] || (state[g]=[]);
          const i = arr.indexOf(v);
          if (i>=0) arr.splice(i,1); else arr.push(v);
          btn.setAttribute('aria-pressed', String(i<0));
          apply();
        });
      });
      let t; input?.addEventListener('input', ()=>{
        clearTimeout(t);
        t = setTimeout(()=>{ state.search = input.value.trim(); apply(); }, 160);
      });
      clear.addEventListener('click', ()=>{
        state.family='all'; state.method=[]; state.use=[]; state.search='';
        syncUIFromState(); apply();
      });

      // Init
      syncUIFromState(); apply();
    })();
  </script>
</body>
</html>
